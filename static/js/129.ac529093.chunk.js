"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[129],{2364:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(1087),a=n(7689),c=n(2007),s=n.n(c),i="moviesList_moviesList__A7Eqi",u="moviesList_moviesItem__0jLzJ",o="moviesList_moviesItemLink__qdNFf",l=n(184),f=function(e){var t=e.items,n=(0,a.TH)(),c=t.map((function(e){var t=e.id,a=e.title,c=e.name;return(0,l.jsx)(r.rU,{to:"/movie/".concat(t),state:{from:n},className:o,children:(0,l.jsx)("li",{className:u,children:(0,l.jsx)("p",{children:a||c})})},t)}));return(0,l.jsx)("ul",{className:i,children:c})},m=f;f.prototypes={items:s().arrayOf(s().shape({id:s().string.isRequired,name:s().string.isRequired,title:s().string.isRequired}))}},7129:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(5861),a=n(9439),c=n(7757),s=n.n(c),i=n(2791),u=n(1087),o=n(397),l=n(5920),f=n(4942),m=n(1413),h=n(2007),p=n.n(h),d=n(9128),v={search:""},g="searchForm_searchBar__2CbSQ",_="searchForm_form__o5IOL",b="searchForm_button__jiWkN",x="searchForm_input__5z1VD",Z=n(184),j=function(e){var t=e.onSubmit,n=(0,i.useState)((0,m.Z)({},v)),r=(0,a.Z)(n,2),c=r[0],s=r[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("header",{className:g,children:(0,Z.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.search.trim())return alert("Search field is empty");var n=c.search;t({search:n}),s((0,m.Z)({},v))},className:_,children:[(0,Z.jsx)("button",{type:"submit",className:b,children:(0,Z.jsx)(d.cMR,{size:"25px",color:"blue"})}),(0,Z.jsx)("input",{value:c.search,name:"search",className:x,type:"text",autoFocus:!0,placeholder:"Search movies",onChange:function(e){var t=e.target,n=t.name,r=t.value;s((function(e){return(0,m.Z)((0,m.Z)({},e),{},(0,f.Z)({},n,r))}))}})]})})})},k=j;j.PropTopse={onSubmit:p().func.isRequired};var S=n(2364),y=function(){var e=(0,i.useState)(null),t=(0,a.Z)(e,2),n=t[0],c=t[1],f=(0,i.useState)(null),m=(0,a.Z)(f,2),h=m[0],p=m[1],d=(0,i.useState)(!1),v=(0,a.Z)(d,2),g=v[0],_=v[1],b=(0,u.lr)(),x=(0,a.Z)(b,2),j=x[0],y=x[1],w=j.get("search");(0,i.useEffect)((function(){if(w){var e=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,o.$7)(w);case 4:t=e.sent,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p(e.t0.message);case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[w,c,p,_]);return(0,Z.jsxs)(Z.Fragment,{children:[h&&(0,Z.jsx)("p",{children:"error"}),(0,Z.jsx)(k,{onSubmit:function(e){var t=e.search;y({search:t})}}),g&&(0,Z.jsx)("div",{children:(0,Z.jsx)(l.Z,{})}),n&&(0,Z.jsx)(S.Z,{items:n})]})}},5920:function(e,t,n){n(2791);var r=n(4691),a=n(184);t.Z=function(){return(0,a.jsx)(r.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})}},397:function(e,t,n){n.d(t,{$7:function(){return l},Y5:function(){return f},YK:function(){return o},oO:function(){return h},y:function(){return m}});var r=n(5861),a=n(7757),c=n.n(a),s=n(1912),i="https://api.themoviedb.org/3",u="36c444871f3c4ccb3f8770d789f46dd7",o=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(i,"/trending/all/day?api_key=").concat(u,"&language=en-US&page=1"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){return s.Z.get("".concat(i,"/search/movie?query=").concat(e,"&api_key=").concat(u,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data.results}))},f=function(e){return s.Z.get("".concat(i,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US")).then((function(e){return e.data}))},m=function(e){return s.Z.get("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US")).then((function(e){return e.data.cast}))},h=function(e){return s.Z.get("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1")).then((function(e){return e.data.results}))}}}]);
//# sourceMappingURL=129.ac529093.chunk.js.map
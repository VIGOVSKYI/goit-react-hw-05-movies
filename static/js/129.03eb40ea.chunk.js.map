{"version":3,"file":"static/js/129.03eb40ea.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MuviesList/muviesList.module.css?80f1","components/MuviesList/MuviesList.jsx","components/SearchForm/initialState.js","webpack://react-homework-template/./src/components/SearchForm/searchForm.module.css?a515","components/SearchForm/SearchForm.jsx","pages/MoviesSearch/MoviesSearch.jsx","pages/shared/servises/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"muviesList_moviesList__OaSiO\",\"moviesItem\":\"muviesList_moviesItem__-zQVX\",\"moviesItemLink\":\"muviesList_moviesItemLink__BuOqc\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './muviesList.module.css';\n\nconst MuviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, title, name }) => (\n    <Link\n      key={id}\n      to={`/movie/${id}`}\n      state={{ from: location }}\n      className={styles.moviesItemLink}\n    >\n      <li className={styles.moviesItem}>\n        <p>{title || name}</p>\n      </li>\n    </Link>\n  ));\n\n  return <ul className={styles.moviesList}>{elements}</ul>;\n};\n\nexport default MuviesList;\n\nMuviesList.defaultProps = {\n  items: [],\n};\n\nMuviesList.prototypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","const initialState = {\n  search: '',\n};\n\nexport default initialState;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"searchForm_searchBar__2CbSQ\",\"form\":\"searchForm_form__o5IOL\",\"button\":\"searchForm_button__jiWkN\",\"buttonLabel\":\"searchForm_buttonLabel__ttOeY\",\"input\":\"searchForm_input__5z1VD\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { HiOutlineSearchCircle } from 'react-icons/hi';\nimport initialState from './initialState';\n\nimport styles from './searchForm.module.css';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handlChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => {\n      return { ...prevState, [name]: value };\n    });\n  };\n\n  const handlSubmit = e => {\n    e.preventDefault();\n    if (state.search.trim() === '') {\n      return alert('Search field is empty');\n    }\n    const { search } = state;\n    onSubmit({ search });\n    setState({ ...initialState });\n  };\n\n  return (\n    <>\n      <header className={styles.searchBar}>\n        <form onSubmit={handlSubmit} className={styles.form}>\n          <button type=\"submit\" className={styles.button}>\n            <HiOutlineSearchCircle size=\"25px\" color=\"blue\" />\n          </button>\n\n          <input\n            value={state.search}\n            name=\"search\"\n            className={styles.input}\n            type=\"text\"\n            autoFocus\n            placeholder=\"Search movies\"\n            onChange={handlChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.PropTopse = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieBySearchQuery } from '../shared/servises/movies-api.js';\nimport { ColorRing } from 'react-loader-spinner';\nimport SearchForm from '../../components/SearchForm/SearchForm';\nimport MuviesList from '../../components/MuviesList/MuviesList';\n\nconst MoviesSearch = () => {\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  useEffect(() => {\n    if (search) {\n      const fetchMovies = async () => {\n        try {\n          setLoading(true);\n          const data = await fetchMovieBySearchQuery(search);\n          setItems(data);\n        } catch (error) {\n          setError(error.message);\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchMovies();\n    }\n  }, [search, setItems, setError, setLoading]);\n\n  const searchMovies = ({ search }) => {\n    setSearchParams({ search });\n    setItems([]);\n  };\n\n  return (\n    <>\n      {error && <p>error</p>}\n      <SearchForm onSubmit={searchMovies} />\n      {loading && (\n        <div>\n          <ColorRing\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"blocks-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"blocks-wrapper\"\n            colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n          />\n        </div>\n      )}\n      <MuviesList items={items} />\n    </>\n  );\n};\n\nexport default MoviesSearch;\n","import axios from 'axios';\n\nconst baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = '36c444871f3c4ccb3f8770d789f46dd7';\n\nexport const fetchMovieTrending = async () => {\n  const { data } = await axios.get(\n    `${baseURL}/trending/all/day?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return data.results;\n};\n\nexport const fetchMovieBySearchQuery = searchQuery => {\n  return axios\n    .get(\n      `${baseURL}/search/movie?query=${searchQuery}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`\n    )\n    .then(response => response.data.results);\n};\n\nexport const fetchMovieDetails = id => {\n  return axios\n    .get(`${baseURL}/movie/${id}?api_key=${API_KEY}&language=en-US`)\n    .then(response => response.data);\n};\n\nexport const fetchCast = movieId => {\n  return axios\n    .get(\n      `${baseURL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    )\n    .then(response => response.data.cast);\n};\n\nexport const fetchReview = movieId => {\n  return axios\n    .get(\n      `${baseURL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    )\n    .then(response => response.data.results);\n};"],"names":["MuviesList","items","location","useLocation","elements","map","id","title","name","to","state","from","className","styles","defaultProps","prototypes","PropTypes","search","SearchForm","onSubmit","useState","initialState","setState","e","preventDefault","trim","alert","type","size","color","value","autoFocus","placeholder","onChange","target","prevState","PropTopse","setItems","error","setError","loading","setLoading","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","fetchMovieBySearchQuery","data","message","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","baseURL","API_KEY","fetchMovieTrending","axios","results","searchQuery","then","response","fetchMovieDetails","fetchCast","movieId","cast","fetchReview"],"sourceRoot":""}